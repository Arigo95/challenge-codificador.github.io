<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Encriptador de texto</title>
        <link href="index.css" rel="stylesheet" type="text/css"/>
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet" type="text/css">
    </head>
    <body>
        <div class="grid-layout">
            <div id="titulo">
                <h1>Encriptador de Texto_ </h1>
            </div>
            <div id="textarea">
                <textarea placeholder="_Ingresa texto para encriptar/desencriptar..."></textarea>
            </div>
            <div id="igual">
                <div class="linea-blanca"></div>
                <div class="medio"></div>
                <div class="linea-blanca"></div>
            </div>
            <div>
                <div id="contenedor-resultado">
                    <p id="resultado"></p>
                </div>
            </div>
            <div id="encriptar-desencriptar">
                <button onclick="encriptador()" class="encriptar">Encriptar_</button>
                <button onclick="desencriptador()" class="desencriptar">Desencriptar_</button>
                <button onclick="limpiador()" class="limpiar">Limpiar_</button>
            </div>
            <div id="contenedor-copiar">
                <button onclick="copiando()" id="copiar">Copiar_</button>
            </div>
        </div>
    </body>
</html>

<script>
    var textoArr = [];
    var textoResuelto = [];

    function mostrarResultado(textoResuelto) {  
        var espacioResultado = document.querySelector("p");
        var agregarResultado = document.createTextNode(textoResuelto);
        espacioResultado.appendChild(agregarResultado);
    }

    function encriptador() {
        var texto = document.querySelector('textarea').value;
        textoArr = texto.split("");

        for (let x = 0; x < textoArr.length; x++) {
            switch (textoArr[x]) {
                case "a":
                    textoArr[x] = "ai";
                    break;
            
                case "e":
                    textoArr[x] = "enter";
                    break;
                
                case "i":
                    textoArr[x] = "imes";
                    break;
                
                case "o":
                    textoArr[x] = "ober";
                    break;
                
                case "u":
                    textoArr[x] = "ufat";
                    break;
                
                default:
                    break;
            }            
        }
        
        textoResuelto = textoArr.join("")
        mostrarResultado(textoResuelto);
    }
    
    function desencriptador() {
        var desencriptando = [];
        var texto = document.querySelector('textarea').value;
        var x = 0;
        textoArr = texto.split("");

        while (x < textoArr.length) {
            switch (textoArr[x]) {
                case "a":
                    desencriptando[x] = textoArr[x];
                    x += 2;
                    break;

                case "e":
                    desencriptando[x] = textoArr[x];
                    x += 5;
                    break;
                
                case "i":
                    desencriptando[x] = textoArr[x];
                    x += 4;
                    break;
                
                case "o":
                    desencriptando[x] = textoArr[x];
                    x += 4;
                    break;
                
                case "u":
                    desencriptando[x] = textoArr[x];
                    x += 4;
                    break;
                
                default:
                    desencriptando[x] = textoArr[x];
                    x ++;
                    break;        
            }
        }
        
        textoResuelto = desencriptando.join("")
        mostrarResultado(textoResuelto);
    }

    function limpiador() {
        var btnTexto = document.getElementById('copiar')
        document.querySelector('p').innerHTML = '';
        document.querySelector('textarea').value = '';
        btnTexto.innerText = "Copiar_"
    }

    function copiando() {
        var copyText = document.getElementById("resultado");
        var btnTexto = document.getElementById('copiar')
        copyText.select();
        copyText.setSelectionRange(0, 99999);
        navigator.clipboard.writeText(copyText.value)
        .then(() => {
            alert("Copiado exitosamente");
            btnTexto.innerText = "Texto copiado_"
        })
        .catch(() => {
            alert("Algo sali√≥ mal");
        });
    }

    //     var textoAcopiar = document.getElementById('resultado').innerText
    //     var btnTexto = document.getElementById('copiar')
    //     navigator.clipboard.writeText(textoAcopiar);
    //     btnTexto.innerText = "Texto copiado_"
    // }
        
</script>